<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/main.css" />
    <link rel="stylesheet" href="/styles/responsive/main1180px.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <metaname ="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <!-- Hamburger button -->
    <button class="hamburger" id="hamburger-btn" aria-label="‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏≥‡∏ó‡∏≤‡∏á">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="sidebar" id="sidebar">
      <div class="sidebar-nav-btn">
        <button
          class="nav-btn active"
          onclick="window.location.href='main.html'"
        >
          <span class="nav-icon">üè†</span> ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
        </button>
        <button class="nav-btn" onclick="window.location.href='buyin.html'">
          <span class="nav-icon">üõí</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠
        </button>
        <button class="nav-btn" onclick="window.location.href='sale.html'">
          <span class="nav-icon">üí∏</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢
        </button>
        <button class="nav-btn" onclick="window.location.href='history.html'">
          <span class="nav-icon">üìë</span> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠-‡∏Ç‡∏≤‡∏¢
        </button>
        <button class="nav-btn" onclick="window.location.href='inventory.html'">
          <span class="nav-icon">üì¶</span> ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
        </button>
        <button class="nav-btn" onclick="window.location.href='movement.html'">
          <span class="nav-icon">üìà</span> ‡∏Å‡∏£‡∏≤‡∏ü‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
        </button>
      </div>
      <div class="logo-container">
        <img src="/assets/logo.png" alt="Logo" class="logo" />
      </div>
    </div>
    <div class="main-content">
      <div class="navbar">
        <form class="navbar-form">
          <span class="navbar-text">
            <svg class="stat-icon" viewBox="0 0 24 24">
              <rect x="3" y="10" width="4" height="11" fill="#4caf50">
                <animate
                  attributeName="height"
                  values="11;16;11"
                  dur="1.2s"
                  repeatCount="indefinite"
                />
              </rect>
              <rect x="10" y="6" width="4" height="15" fill="#2196f3">
                <animate
                  attributeName="height"
                  values="15;8;15"
                  dur="1.2s"
                  repeatCount="indefinite"
                />
              </rect>
              <rect x="17" y="2" width="4" height="19" fill="#ff9800">
                <animate
                  attributeName="height"
                  values="19;13;19"
                  dur="1.2s"
                  repeatCount="indefinite"
                />
              </rect>
            </svg>
            ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <span id="total-products">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
          </span>
          <span class="navbar-text">
            <svg class="stat-icon" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="10" fill="#ff9800" opacity="0.3" />
              <path
                d="M12 2 A10 10 0 0 1 22 12"
                stroke="#ff9800"
                stroke-width="4"
                fill="none"
              >
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  from="0 12 12"
                  to="360 12 12"
                  dur="1.2s"
                  repeatCount="indefinite"
                />
              </path>
            </svg>
            ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ <span id="total-categories">0</span> ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
          </span>
          <span class="navbar-text">
            <svg class="stat-icon" viewBox="0 0 24 24">
              <polyline
                points="4,12 10,18 20,6"
                fill="none"
                stroke="#4caf50"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-dasharray="20"
                stroke-dashoffset="20"
              >
                <animate
                  attributeName="stroke-dashoffset"
                  from="20"
                  to="0"
                  dur="0.8s"
                  repeatCount="indefinite"
                />
              </polyline>
            </svg>
            ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≤‡∏¢ <span id="total-available">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
          </span>
          <span class="navbar-text">
            <svg class="stat-icon" viewBox="0 0 24 24">
              <line
                x1="4"
                y1="4"
                x2="20"
                y2="20"
                stroke="#e74c3c"
                stroke-width="3"
              >
                <animate
                  attributeName="x2"
                  values="20;4;20"
                  dur="1.2s"
                  repeatCount="indefinite"
                />
                <animate
                  attributeName="y2"
                  values="20;4;20"
                  dur="1.2s"
                  repeatCount="indefinite"
                />
              </line>
              <line
                x1="20"
                y1="4"
                x2="4"
                y2="20"
                stroke="#e74c3c"
                stroke-width="3"
              >
                <animate
                  attributeName="x2"
                  values="4;20;4"
                  dur="1.5s"
                  repeatCount="indefinite"
                />
                <animate
                  attributeName="y2"
                  values="20;4;20"
                  dur="1.5s"
                  repeatCount="indefinite"
                />
              </line>
            </svg>
            ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≤‡∏¢ <span id="total-unavailable">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
          </span>
        </form>
        <button class="logout-btn" id="logout-btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
      <div class="function-buttons">
        <input
          id="search-input"
          type="text"
          class="search-product-input"
          placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™, ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏°‡πÄ‡∏î‡∏•..."
        />
        <button class="function-btn-add active"></button>
        <button class="function-btn-edit active"></button>
        <button class="function-btn-delete active"></button>
      </div>
      <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
      <div id="product-list">
        <div class="product-table">
          <table>
            <thead>
              <tr>
                <th>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                <th>Model</th>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                <th>Maker</th>
                <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                <th>‡∏™‡∏†‡∏≤‡∏û</th>
                <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
                <th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢</th>
                <th>‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                <th>‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö</th>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
                <th>‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                <th>‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                <th>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</th>
              </tr>
            </thead>
            <tbody id="product-table-body">
              <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á pagination -->
      <div id="pagination">
        <div class="pagination-controls">
          <button id="prev-page" disabled>‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
          <span id="page-info">‡∏´‡∏ô‡πâ‡∏≤ 1 / 1</span>
          <button id="next-page" disabled>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
        </div>
      </div>
    </div>
    <div id="image-modal" class="image-modal" style="display: none">
      <span class="close-modal" onclick="closeImageModal()">&times;</span>
      <img id="modal-img" src="" alt="‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" />
    </div>

    <!--- ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ôscipts‡∏†‡∏≤‡∏¢‡πÉ‡∏ô --->
    <script>
      function checkLogin() {
        const isLoggedIn = localStorage.getItem("isLoggedIn");
        if (!isLoggedIn) {
          window.location.replace("login.html");
        }
      }

      // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
      document.addEventListener("DOMContentLoaded", function () {
        checkLogin();
        // Hamburger menu
        const hamburger = document.getElementById("hamburger-btn");
        const sidebar = document.getElementById("sidebar");
        hamburger?.addEventListener("click", () => {
          sidebar.classList.toggle("sidebar-open");
        });

        // ‡πÅ‡∏¢‡∏Å logout handler ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤
        const logoutBtn = document.querySelector(".logout-btn");
        logoutBtn?.addEventListener("click", function (e) {
          e.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô
          localStorage.clear();
          sessionStorage.clear();
          window.location.replace("login.html");
        });

        // ‡πÅ‡∏¢‡∏Å navigation handlers
        const addProductBtn = document.querySelector(".function-btn-add");
        addProductBtn?.addEventListener("click", function (e) {
          e.preventDefault();
          window.location.href = "addproduct.html";
        });

        const editProductBtn = document.querySelector(".function-btn-edit");
        editProductBtn?.addEventListener("click", function (e) {
          e.preventDefault();
          window.location.href = "editproduct.html";
        });

        const deleteProductBtn = document.querySelector(".function-btn-delete");
        deleteProductBtn?.addEventListener("click", function (e) {
          e.preventDefault();
          window.location.href = "delete.html";
        });
      });
    </script>
    <!--- ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ôscipts‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å --->
    <script type="module" src="../scripts/mainpage.js"></script>
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå main.html -->
  </body>
</html>
