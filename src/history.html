<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <title>ประวัติซื้อ-ขาย</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../styles/history.css" />
  </head>
  <body>
    <button class="hamburger" id="hamburger-btn" aria-label="เมนูนำทาง">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="sidebar" id="sidebar">
      <div class="logo-container">
        <img src="../assets/logo.png" alt="Logo" class="logo" />
      </div>
      <button class="nav-btn" onclick="window.location.href='main.html'">
        หน้าหลัก
      </button>
      <button class="nav-btn" onclick="window.location.href='buyin.html'">
        รายการซื้อ
      </button>
      <button class="nav-btn" onclick="window.location.href='sale.html'">
        รายการขาย
      </button>
      <button class="nav-btn" onclick="window.location.href='inventory.html'">
        สรุปจำนวนคงเหลือสินค้า
      </button>
      <button
        class="nav-btn active"
        onclick="window.location.href='history.html'"
      >
        ประวัติการซื้อ-ขาย
      </button>
      <button class="nav-btn" onclick="window.location.href='movement.html'">
        กราฟการเคลื่อนไหวสินค้าและจำนวนเงิน
      </button>
    </div>
    <div class="main-content">
      <div class="navbar">
        <form class="navbar-form">
          <span class="navbar-text active">ประวัติการซื้อ-ขาย</span>
          <select id="history-type">
            <option value="all">ทั้งหมด</option>
            <option value="buyin">รายการซื้อ</option>
            <option value="sale">รายการขาย</option>
          </select>
          <!-- เพิ่มดรอปดาวน์แยกปีและเดือน -->
          <select id="month-select">
            <option value="all">ทุกเดือน</option>
          </select>
          <select id="year-select">
            <option value="all">ทุกปี</option>
          </select>
        </form>
        <div class="search-logout-row">
          <input
            id="search-input"
            type="text"
            class="search-product-input"
            placeholder="ค้นหาด้วยรหัส, ชื่อสินค้า หรือโมเดล..."
          />
          <button class="logout-btn" id="logout-btn">ออกจากระบบ</button>
        </div>
      </div>
      <div class="history-list">
        <h2>ประวัติการซื้อ-ขาย</h2>
        <table id="history-table">
          <thead>
            <tr>
              <th>วันที่</th>
              <th>ประเภท</th>
              <th>รหัสสินค้า</th>
              <th>ชื่อสินค้า</th>
              <th>โมเดล</th>
              <th>จำนวน</th>
              <th>ราคาต่อหน่วย</th>
              <th>รวม</th>
              <th>ลูกค้า/ผู้ขาย</th>
              <th>หมายเหตุ</th>
            </tr>
          </thead>
          <tbody>
            <!-- เติมข้อมูลด้วย JS -->
          </tbody>
        </table>
        <!-- เพิ่มส่วนสรุปยอด -->
        <div class="monthly-summary">
          <h3>สรุปยอดประจำเดือน</h3>
          <div class="summary-grid">
            <div class="summary-box">
              <div class="summary-label">ยอดซื้อรวม</div>
              <div id="total-buyin" class="summary-value">-</div>
            </div>
            <div class="summary-box">
              <div class="summary-label">ยอดขายรวม</div>
              <div id="total-sale" class="summary-value">-</div>
            </div>
            <div class="summary-box">
              <div class="summary-label">จำนวนรายการซื้อ</div>
              <div id="count-buyin" class="summary-value">-</div>
            </div>
            <div class="summary-box">
              <div class="summary-label">จำนวนรายการขาย</div>
              <div id="count-sale" class="summary-value">-</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="../scripts/history.js"></script>
  </body>
</html>
